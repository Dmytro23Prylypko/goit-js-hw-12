{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../assets/error.png","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n// const PIXABAY_BASE_URL = \"https://pixabay.com/api/\";\nconst PIXABAY_API_KEY = '49352889-932a02498e450d158832440ce';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  return axios\n    .get('', {\n      params: {\n        key: PIXABAY_API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data.hits);\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nconst lishtBox = new SimpleLightbox('.gallery li a', {});\n\nexport function getGalleryItems(items) {\n  items = items\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li>\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\"/>\n          </a>\n          <ul class=\"gallery-info\">\n            <li>\n              <span class=\"gallery-info-subtitle\">Likes</span>\n              <span>${likes}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Views</span>\n              <span>${views}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Comments</span>\n              <span>${comments}</span>\n            </li>\n            <li>\n              <span class=\"gallery-info-subtitle\">Downloads</span>\n              <span>${downloads}</span>\n            </li>\n          </ul>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', items);\n\n  lishtBox.refresh();\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAETSURBVHgBrVVbDoJADCwEwq83kaN4I+UkHgGP4mH4YTGslFBB2e0UYZImG9rO7KMtRBG0bXd1rvMW49gYTxYjTxK6eU+PNKUnKeh7Kjl2yKGiyCtCmHf+upMRHItO8je5WWQPORQ5gjwqopE7586YcB3zJTIt6kBiiR5ONtc0TRnw1ewbBbouTMLfYyJCjnJVgZgIIl/mZQSQ53k1BPNybCYGNxYb+1A+FPgVEQELOSMlI4aREFwjmE4gs4lt+mSePVBgSS7XsnwTKKJVg1YtWgkv/bDRLKWoNpoEDYShUVESQChGRsVnc5rIVqzIBUeIRMmPEIHke0Q08lUfyFjwPuE6P1l++kT+smV8jJhPgk27ljfw3ToafivEMQAAAABJRU5ErkJggg==\"","import { fetchImages } from './js/pixabay-api';\nimport { getGalleryItems } from './js/render-functions';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport errorIco from './../assets/error.png';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const query = event.currentTarget.elements['search-text'].value;\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  fetchImages(query)\n    .then(hits => {\n      if (!hits.length) {\n        iziToast.show(\n          getIziToastOptions(\n            'Sorry, there are no images matching your search query. Please try again!'\n          )\n        );\n      } else {\n        getGalleryItems(hits);\n      }\n    })\n    .catch(error => {\n      iziToast.show(getIziToastOptions(error.message));\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nfunction getIziToastOptions(message) {\n  return {\n    message,\n    iconUrl: errorIco,\n    color: '#ef4040',\n    messageColor: '#fff',\n    maxWidth: '380px',\n    messageSize: '16',\n    messageLineHeight: '150%',\n    position: 'topRight',\n    iconColor: '#fff',\n  };\n}\n"],"names":["PIXABAY_API_KEY","axios","fetchImages","query","response","gallery","lishtBox","SimpleLightbox","getGalleryItems","items","webformatURL","largeImageURL","tags","likes","views","comments","downloads","errorIco","form","loader","handleSubmit","event","hits","iziToast","getIziToastOptions","error","message"],"mappings":"owBAGA,MAAMA,EAAkB,qCAExBC,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAcC,GAClBF,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACF,CAAA,EACA,KAAKC,GAAYA,EAAS,KAAK,IAAI,ECflCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,gBAAiB,EAAE,EAEhD,SAASC,EAAgBC,EAAO,CACrCA,EAAQA,EACL,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,qBAESL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sBAK5BC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAK/B,EACK,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,YAAaI,CAAK,EAE7CH,EAAS,QAAS,CACpB,CCjDA,MAAeW,EAAA,yhBCOTC,EAAO,SAAS,cAAc,OAAO,EACrCb,EAAU,SAAS,cAAc,UAAU,EAC3Cc,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAgB,EACtB,MAAMlB,EAAQkB,EAAM,cAAc,SAAS,aAAa,EAAE,MAC1DhB,EAAQ,UAAY,GACpBc,EAAO,MAAM,QAAU,QAEvBjB,EAAYC,CAAK,EACd,KAAKmB,GAAQ,CACPA,EAAK,OAORd,EAAgBc,CAAI,EANpBC,EAAS,KACPC,EACE,0EACZ,CACS,CAIJ,CAAA,EACA,MAAMC,GAAS,CACdF,EAAS,KAAKC,EAAmBC,EAAM,OAAO,CAAC,CAChD,CAAA,EACA,QAAQ,IAAM,CACbN,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEA,SAASK,EAAmBE,EAAS,CACnC,MAAO,CACL,QAAAA,EACA,QAAST,EACT,MAAO,UACP,aAAc,OACd,SAAU,QACV,YAAa,KACb,kBAAmB,OACnB,SAAU,WACV,UAAW,MACZ,CACH"}